/**
 * Embedded normalize.css for css resets.
 */
@import (inline) "normalize/normalize.css";

// max number of columns in a row
@max-row-columns : 12;

/**
 * Clearfix
 */
.clearfix {
  &:before,
  &:after {
    content : " ";
    display : table;
  }
  &:after {
    clear : both;
  }
  *zoom : 1;
}

/**
 * A grid of rows and columns.
 */
.grid {
  & > .row {
    // recursively generate the rows
    .row();
    .clearfix();
  }
  .clearfix();
}

/**
 * Horizontal rows in a grid. Allows for
 * column count to be defined, up to @max-row-columns.
 */
.row(@columns : 1) when (@columns <= @max-row-columns) {
  &.row-@{columns} {
    & > .column {
      // recursively generate the columns
      .column(@columns);
      overflow-x : hidden;
    }
  }
  .row(@columns : (@columns + 1));
}

/**
 * Columns in a row. Relative size is calculated
 * based on the number of columns in the row.
 */
.column(@columns, @width : 1) when (@width <= @columns) {
  &.column-@{width} {
    float : left;
    width : percentage(@width / @columns); 
  }
  &.column-offset-@{width} {
    margin-left : percentage(@width / @columns);
  }
  .column(@columns, @width : (@width + 1));
}

