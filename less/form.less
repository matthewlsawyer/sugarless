/**
 * Form styling
 */

input,
select,
textarea {
  height : @input-height; 
  padding : @input-padding;
  border: 1px solid @border-color;
  border-radius : @border-radius;
  vertical-align : middle;
  background-image : none;
  background-color : @input-background-color;
}

input {
  width : @input-width;
}

select {
  cursor : pointer;
}

textarea {
  width : @input-width;
  resize : none;
  vertical-align : top;
}

label {
  font-weight : bold;
  max-width : 100%;
  margin-bottom : @margin;
}

fieldset {
  margin : 0;
  margin-bottom : @margin;
  border : 0;
  min-width : 0;
  padding : @padding;
  border : 1px solid @border-color;
  border-radius : @border-radius;
  background-color : @fill-color;
  legend {
    display : block;
    font-weight : bold;
    margin-bottom : @margin;
  }
  > .form-group:last-child {
    margin-bottom : 0;
  }
}

form {
  .form-group {
    margin-bottom : @margin;
    label,
    input,
    select,
    button,
    textarea {
      display : block;
      width : 100%;
    }
    textarea {
      height : @input-height * 2 + @margin;
    }
  }
}

.input-group {
  @control-width : @font-height + @padding * 2;
  > input,
  .form-group & > input {
    border-top-right-radius : 0;
    border-bottom-right-radius : 0;
    width : calc(~'101% - @{control-width}'); 
    width : -o-calc(~'100% - @{control-width}');
    width : -moz-calc(~'100% - @{control-width}');
    width : -webkit-calc(~'100% - @{control-width}');
    float : left;
    & + .input-control {
      border-top-left-radius : 0;
      border-bottom-left-radius : 0;
      border-top-right-radius : @border-radius;
      border-bottom-right-radius : @border-radius;
      border-left : 0;
    }
  }
  > .input-control {
    width : @control-width;
    text-align : center;
    padding : @padding;
    float : left;
    border-top-left-radius : @border-radius;
    border-bottom-left-radius : @border-radius;
    border : 1px solid @border-color;
    background-color : @input-background-color;
    // if the control comes first
    & + input { 
      border-radius : @border-radius;
      border-top-left-radius : 0;
      border-bottom-left-radius : 0;
      border-left : 0;
    }
  }
  .clearfix();
}

.radio {
  .input-type("radio"); 
}

.checkbox {
  .input-type("checkbox"); 
}

.input-type(@type) {
  @size : @font-height - 4px; 
  position : relative;
  height : @font-height;
  margin-bottom : @margin;
  &:last-child {
    margin-bottom : 0;
  }
  input[type="@{type}"] {
    height : @size;
    width : @size;
    margin-top : 2px;
    display : inline-block;
    position : absolute;
    left : 0;
  }
  // always push the label right
  // even if the label is first
  label {
    display : inline-block;
    font-weight : normal;
    margin : 0;
    position : absolute;
    left : @size + @margin;
    // if the label wraps the input then move it left
    & > input[type="@{type}"] {
      margin-left : -(@size + @margin);
    }
  }
}
